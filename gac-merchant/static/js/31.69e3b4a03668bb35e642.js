webpackJsonp([31],{QTP4:function(t,i,e){var s=e("y/Sl");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("rjj0")("1dac0dc9",s,!0)},SwuZ:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("Gu7T"),n=e.n(s),o=e("mvHQ"),a=e.n(o),r=e("Xxa5"),c=e.n(r),l=e("exGp"),d=e.n(l),u=e("rajo"),m=e("CWYl"),f={"390_292":{width:390,height:292},"230_230":{width:230,height:230}},p={components:{Add:u.a},created:function(){var t=this;return d()(c.a.mark(function i(){var e;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(m.b)({type:t.type}).then(function(t){return t.data});case 2:e=i.sent,t.change(e.records);case 4:case"end":return i.stop()}},i,t)}))()},data:function(){return{type:3,width:390,height:292,prefix:"",imgs:[]}},methods:{add:function(t,i){var e=this,s=this.$refs.dialog;s.dialogFormVisible=!0,s.dialogStatus="add",s.resetForm("form",function(){s.form.type=e.type,s.form.area=i}),this.width=f[t].width,this.height=f[t].height,this.prefix="recommended-"+i},remove:function(t){var i=this;this.$confirm("确定执行当前操作？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(m.a)(i.imgs[t].id).then(function(e){i.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),i.imgs.splice(t,1,void 0)})})},edit:function(t,i){var e=this,s=this.$refs.dialog;s.dialogFormVisible=!0,s.dialogStatus="update",this.width=f[t].width,this.height=f[t].height,s.resetForm("form",function(){s.form=JSON.parse(a()(e.imgs[i])),s.form.type=e.type,s.form.area=i,e.prefix="recommended-"+i})},success:function(t){this.imgs[t.area]=t,this.imgs=[].concat(n()(this.imgs))},change:function(t){var i=[];t.forEach(function(t){i[t.area]=t}),i[0]={},this.imgs=i}}},g={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"exchange"},[e("div",{staticClass:"box"},[e("div",{staticClass:"wrap-1"},[e("div",{staticClass:"mod-1"},[t.imgs[1]?e("img",{attrs:{src:t._f("setImg")(t.imgs[1].imgUrl),width:"100%",height:"100%"}}):t._e(),t._v(" "),e("div",{staticClass:"upload"},[t.imgs[1]?[e("el-button",{attrs:{type:"text"},on:{click:function(i){t.edit("390_292",1)}}},[t._v("修改")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(i){t.remove(1)}}},[t._v("删除")])]:e("el-button",{attrs:{type:"text"},on:{click:function(i){t.add("390_292",1)}}},[t._v("添加")])],2)]),t._v(" "),e("div",{staticClass:"mod-1"},[t.imgs[2]?e("img",{attrs:{src:t._f("setImg")(t.imgs[2].imgUrl),width:"100%",height:"100%"}}):t._e(),t._v(" "),e("div",{staticClass:"upload"},[t.imgs[2]?[e("el-button",{attrs:{type:"text"},on:{click:function(i){t.edit("390_292",2)}}},[t._v("修改")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(i){t.remove(2)}}},[t._v("删除")])]:e("el-button",{attrs:{type:"text"},on:{click:function(i){t.add("390_292",2)}}},[t._v("添加")])],2)]),t._v(" "),e("div",{staticClass:"mod-1"},[t.imgs[3]?e("img",{attrs:{src:t._f("setImg")(t.imgs[3].imgUrl),width:"100%",height:"100%"}}):t._e(),t._v(" "),e("div",{staticClass:"upload"},[t.imgs[3]?[e("el-button",{attrs:{type:"text"},on:{click:function(i){t.edit("390_292",3)}}},[t._v("修改")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(i){t.remove(3)}}},[t._v("删除")])]:e("el-button",{attrs:{type:"text"},on:{click:function(i){t.add("390_292",3)}}},[t._v("添加")])],2)])]),t._v(" "),e("div",{staticClass:"wrap-2"},[e("div",{staticClass:"mod-2"},[t.imgs[4]?e("img",{attrs:{src:t._f("setImg")(t.imgs[4].imgUrl),width:"100%",height:"100%"}}):t._e(),t._v(" "),e("div",{staticClass:"upload"},[t.imgs[4]?[e("el-button",{attrs:{type:"text"},on:{click:function(i){t.edit("230_230",4)}}},[t._v("修改")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(i){t.remove(4)}}},[t._v("删除")])]:e("el-button",{attrs:{type:"text"},on:{click:function(i){t.add("230_230",4)}}},[t._v("添加")])],2)]),t._v(" "),e("div",{staticClass:"mod-2"},[t.imgs[5]?e("img",{attrs:{src:t._f("setImg")(t.imgs[5].imgUrl),width:"100%",height:"100%"}}):t._e(),t._v(" "),e("div",{staticClass:"upload"},[t.imgs[5]?[e("el-button",{attrs:{type:"text"},on:{click:function(i){t.edit("230_230",5)}}},[t._v("修改")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(i){t.remove(5)}}},[t._v("删除")])]:e("el-button",{attrs:{type:"text"},on:{click:function(i){t.add("230_230",5)}}},[t._v("添加")])],2)]),t._v(" "),e("div",{staticClass:"mod-2"},[t.imgs[6]?e("img",{attrs:{src:t._f("setImg")(t.imgs[6].imgUrl),width:"100%",height:"100%"}}):t._e(),t._v(" "),e("div",{staticClass:"upload"},[t.imgs[6]?[e("el-button",{attrs:{type:"text"},on:{click:function(i){t.edit("230_230",6)}}},[t._v("修改")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(i){t.remove(6)}}},[t._v("删除")])]:e("el-button",{attrs:{type:"text"},on:{click:function(i){t.add("230_230",6)}}},[t._v("添加")])],2)]),t._v(" "),e("div",{staticClass:"mod-2"},[t.imgs[7]?e("img",{attrs:{src:t._f("setImg")(t.imgs[7].imgUrl),width:"100%",height:"100%"}}):t._e(),t._v(" "),e("div",{staticClass:"upload"},[t.imgs[7]?[e("el-button",{attrs:{type:"text"},on:{click:function(i){t.edit("230_230",7)}}},[t._v("修改")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(i){t.remove(7)}}},[t._v("删除")])]:e("el-button",{attrs:{type:"text"},on:{click:function(i){t.add("230_230",7)}}},[t._v("添加")])],2)]),t._v(" "),e("div",{staticClass:"mod-2"},[t.imgs[8]?e("img",{attrs:{src:t._f("setImg")(t.imgs[8].imgUrl),width:"100%",height:"100%"}}):t._e(),t._v(" "),e("div",{staticClass:"upload"},[t.imgs[8]?[e("el-button",{attrs:{type:"text"},on:{click:function(i){t.edit("230_230",8)}}},[t._v("修改")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(i){t.remove(8)}}},[t._v("删除")])]:e("el-button",{attrs:{type:"text"},on:{click:function(i){t.add("230_230",8)}}},[t._v("添加")])],2)])])]),t._v(" "),e("Add",{ref:"dialog",attrs:{type:t.type,width:t.width,height:t.height,prefix:t.prefix},on:{success:t.success}})],1)},staticRenderFns:[]};var v=e("VU/8")(p,g,!1,function(t){e("QTP4")},"data-v-0a76fb00",null);i.default=v.exports},rajo:function(t,i,e){"use strict";var s=e("Oakg"),n=e("CWYl"),o={components:{ImageCropper:s.a},props:{prefix:String,type:Number,width:Number,height:Number},data:function(){return{cropShow:!1,loading:!1,dialogStatus:"",dialogFormVisible:!1,form:{targetUrl:void 0,imgUrl:void 0,type:this.type},rules:{imgUrl:[{required:!0,message:"请上传图片",trigger:"blur"}],targetUrl:[{required:!0,message:"请输入链接地址",trigger:"blur"}]}}},methods:{create:function(t){var i=this;this.$refs[t].validate(function(t){if(!t)return!1;i.loading=!0,("add"===i.dialogStatus?n.d:n.c)(i.form).then(function(t){i.dialogFormVisible=!1,i.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3}),i.success(t.data)}).catch(function(){i.loading=!1})})},resetForm:function(t,i){var e=this;this.$nextTick(function(){e.$refs[t].resetFields(),setTimeout(function(){i&&i()})})},cancel:function(){this.dialogFormVisible=!1,this.resetForm("form")},success:function(t){this.loading=!1,this.$emit("success",t)},uploadSuccess:function(t){var i=t.key;this.form.imgUrl=i,this.cropShow=!1,this.$refs.cropper.setStep(1)}}},a={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("el-dialog",{attrs:{title:"新增/修改",visible:t.dialogFormVisible},on:{"update:visible":function(i){t.dialogFormVisible=i}}},[e("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"图片内容",prop:"imgUrl"}},[t.form.imgUrl?e("el-card",{staticStyle:{width:"250px"},attrs:{"body-style":{padding:"0px"}}},[e("img",{staticClass:"image",attrs:{src:t._f("setImg")(t.form.imgUrl),width:"100%"}}),t._v(" "),e("div",{staticStyle:{padding:"14px"}},[e("div",{staticClass:"bottom clearfix"},[e("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(i){t.form.imgUrl=""}}},[t._v("删除")])],1)])]):e("el-button",{attrs:{type:"primary"},on:{click:function(i){t.cropShow=!0}}},[t._v("上传")]),t._v(" "),e("ImageCropper",{ref:"cropper",attrs:{noCircle:!0,noSquare:!0,withCredentials:!0,imgFormat:"jpg",width:t.width,height:t.height,prefix:t.prefix},on:{"crop-upload-success":t.uploadSuccess},model:{value:t.cropShow,callback:function(i){t.cropShow=i},expression:"cropShow"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"链接地址",prop:"targetUrl"}},[e("el-input",{model:{value:t.form.targetUrl,callback:function(i){t.$set(t.form,"targetUrl",i)},expression:"form.targetUrl"}})],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){t.cancel("form")}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(i){t.create("form")}}},[t._v("确 定")])],1)],1)},staticRenderFns:[]},r=e("VU/8")(o,a,!1,null,null,null);i.a=r.exports},"y/Sl":function(t,i,e){(t.exports=e("FZ+f")(!1)).push([t.i,'\n.box[data-v-0a76fb00] {\n  width: 1190px;\n  -webkit-transform: scale(0.8);\n          transform: scale(0.8);\n}\n.box [class*="mod-"][data-v-0a76fb00] {\n  position: relative;\n  background: #efefef;\n}\n.box .wrap-1[data-v-0a76fb00] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.box .wrap-2[data-v-0a76fb00] {\n  margin-top: 10px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.box .mod-1[data-v-0a76fb00] {\n  width: 390px;\n  height: 292px;\n}\n.box .mod-2[data-v-0a76fb00] {\n  width: 230px;\n  height: 230px;\n}\n.box .upload[data-v-0a76fb00] {\n  position: absolute;\n  right: 15px;\n  bottom: 15px;\n  z-index: 4;\n}\n',""])}});