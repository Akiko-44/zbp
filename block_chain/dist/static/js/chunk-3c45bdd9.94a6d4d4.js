(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c45bdd9"],{"1ee3":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"listQueryForm",attrs:{model:t.listParams,inline:!0}},[a("el-form-item",{attrs:{label:"业务平台:"}},[a("el-select",{attrs:{placeholder:"请选择业务平台"},model:{value:t.listParams.platformId,callback:function(e){t.$set(t.listParams,"platformId",e)},expression:"listParams.platformId"}},t._l(t.platformList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.displayName,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"区块链平台:"}},[a("el-select",{attrs:{placeholder:"请选择区块链平台"},model:{value:t.listParams.blockchainId,callback:function(e){t.$set(t.listParams,"blockchainId",e)},expression:"listParams.blockchainId"}},t._l(t.blockChainList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.blockchainName,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间区间:"}},[a("el-date-picker",{staticStyle:{width:"380px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","start-placeholder":"开始","end-placeholder":"结束"},model:{value:t.createTime,callback:function(e){t.createTime=e},expression:"createTime"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("\n        查找\n      ")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"50",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"上链任务ID"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.taskId))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"业务平台"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.displayName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"区块链平台"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.blockchainName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"结果"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(t.resultMap[n.result]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"结果描述"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.resultDesc))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"重试次数"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.retryCount))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"更新时间"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.updateTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[1!=n.result?a("el-button",{attrs:{size:"small",type:"warning",disabled:t.btnDisabled},on:{click:function(e){return t.upperChain(n.id)}}},[t._v("上链")]):a("span",[t._v("-")])]}}])})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.listLoading,expression:"!listLoading"}],staticClass:"pagination-container"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50],total:t.total,"page-size":t.listParams.size,"current-page":t.listParams.current},on:{"update:currentPage":function(e){return t.$set(t.listParams,"current",e)},"update:current-page":function(e){return t.$set(t.listParams,"current",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},i=[],l=a("2172"),r=a("2934"),s={data:function(){return{list:null,total:null,listLoading:!1,listParams:{current:1,size:20,platformId:void 0,blockchainId:void 0,beginTime:void 0,endTime:void 0,blockChain:void 0},btnDisabled:!1,createTime:[],platformList:[],blockChainList:[],upListParams:{taskResultId:""},resultMap:{0:"无结果",1:"成功",2:"失败"}}},created:function(){this.getList(),this.getAllPlatformList(),this.getBlockChainList()},methods:{getAllPlatformList:function(){var t=this;Object(r["a"])().then((function(e){t.platformList=e.data,t.platformList.unshift({id:void 0,displayName:"全部"})}))},getBlockChainList:function(){var t=this;Object(r["b"])().then((function(e){t.blockChainList=e.data,t.blockChainList.unshift({id:void 0,blockchainName:"全部"})}))},getList:function(){var t=this;this.listLoading=!0,this.listParams.startTime=this.createTime?this.createTime[0]:void 0,this.listParams.endTime=this.createTime?this.createTime[1]:void 0,Object(l["d"])(this.listParams).then((function(e){t.list=e.data.records,t.total=e.data.total,t.listLoading=!1}))},upperChain:function(t){var e=this;this.$confirm("是否确认上链？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){e.btnDisabled=!0,e.upListParams.taskResultId=t,Object(l["b"])(e.upListParams).then((function(t){e.btnDisabled=!1,e.getList()})).catch((function(){e.btnDisabled=!1}))}))},handleFilter:function(){var t=this;this.$refs.listQueryForm.validate((function(e){if(!e)return!1;t.getList()}))},handleSizeChange:function(t){this.listParams.size=t,this.getList()},handleCurrentChange:function(t){this.listParams.current=t,this.getList()}}},o=s,c=(a("7a20"),a("2877")),u=Object(c["a"])(o,n,i,!1,null,"07879023",null);e["default"]=u.exports},2172:function(t,e,a){"use strict";a.d(e,"d",(function(){return i})),a.d(e,"b",(function(){return l})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return s}));var n=a("b775");function i(t){return Object(n["a"])({url:"/admin/task/searchManualRetryChain",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/admin/task/manulDealChainFailResult",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/admin/task/getHandSetPublicChainRecord",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/admin/task/handSetPublicChain",method:"post",data:t})}},2934:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return l}));var n=a("b775");function i(){return Object(n["a"])({url:"/admin/platform/getAllPlatform",method:"get"})}function l(){return Object(n["a"])({url:"/admin/eth/getBlockChains",method:"get"})}},"7a20":function(t,e,a){"use strict";var n=a("bb08"),i=a.n(n);i.a},bb08:function(t,e,a){}}]);