(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eefe7bb2"],{"25a7":function(t,a,e){"use strict";var n=e("a5a3"),s=e.n(n);s.a},9406:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticClass:"card-header"},[t._v("待上链数据")])]),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.upLinkTableData,"header-row-class-name":"table-header"}},[e("el-table-column",{attrs:{align:"center",prop:"platformName",label:"上链平台"}}),t._v(" "),e("el-table-column",{attrs:{"class-name":"blue-column",align:"center",label:"待上链数量"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.row;return[e("span",{on:{click:function(a){return t.$router.push({name:"upperChainPage"})}}},[t._v(t._s(n.count))])]}}])})],1)],1),t._v(" "),e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticClass:"card-header"},[t._v("账本数据")])]),t._v(" "),e("div",{staticClass:"summary"},[e("span",{staticClass:"summary-title"},[t._v("汇总统计")]),t._v(" "),e("el-row",[e("el-col",{attrs:{span:12}},[e("span",{staticClass:"label"},[t._v("累计上链金额（eth）：")]),t._v(" "),e("span",{staticClass:"money"},[t._v(t._s(t.cost))])]),t._v(" "),e("el-col",{attrs:{span:12}},[e("span",{staticClass:"label"},[t._v("余额（eth）：")]),t._v(" "),e("span",{staticClass:"money"},[t._v(t._s(t.balance))])])],1)],1),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.upLinkCostTableData,"header-row-class-name":"table-header"}},[e("el-table-column",{attrs:{align:"center",label:"上链平台"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.row;return[e("span",[t._v(t._s(n.platform.platformName))])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"上链金额（eth）"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.row;return[e("span",[t._v(t._s(n.cost))])]}}])})],1),t._v(" "),e("div",{staticClass:"chart-container"},[e("div",{staticClass:"myChart",style:{width:"100%",height:"500px"},attrs:{id:"myChart"}})])],1)],1)},s=[],i=e("313e"),l=e.n(i),r=e("b775");function o(){return Object(r["a"])({url:"/admin/task/getHandSetPublicChainRecordCount",method:"get"})}function c(t){return Object(r["a"])({url:"/admin/eth/getAllCostAndBalance",method:"get",params:t})}function u(){return Object(r["a"])({url:"/admin/eth/getLedgerCount",method:"get"})}function d(){return Object(r["a"])({url:"/admin/eth/getKLineOfLedger",method:"get"})}var h={name:"Dashboard",data:function(){return{upLinkTableData:[],upLinkCostTableData:[],cost:"",balance:"",chart:null,seriesData:[],legendData:[],xAxisData:[]}},watch:{seriesData:function(){this.setOptions()}},created:function(){this.getCount(),this.getAllCost(),this.getLedgerCount(),this.getChartData()},mounted:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{getCount:function(){var t=this;o().then((function(a){t.upLinkTableData=a.data}))},getAllCost:function(){var t=this;c({blockchainId:1}).then((function(a){t.cost=a.data.allCost,t.balance=a.data.balance}))},getLedgerCount:function(){var t=this;u().then((function(a){t.upLinkCostTableData=a.data}))},getChartData:function(){var t=this;d().then((function(a){t.xAxisData=a.data.xAxisData,t.legendData=a.data.legendData,a.data.seriesData.map((function(t){t.type="line",t.smooth=!0,t.symbol="circle",t.lineStyle={normal:{width:2}},t.itemStyle={normal:{label:{show:!0}}}})),t.seriesData=a.data.seriesData}))},initChart:function(){this.chart=l.a.init(document.getElementById("myChart")),this.setOptions()},setOptions:function(){this.chart.setOption({legend:{top:50,icon:"rect",itemWidth:14,itemHeight:5,itemGap:13,data:this.legendData,right:"4%",textStyle:{fontSize:12,color:"#666"}},grid:{top:100,left:"2%",right:"2%",bottom:"2%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#57617B"}},data:this.xAxisData}],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{lineStyle:{color:"#57617B"}},axisLabel:{margin:10,textStyle:{fontSize:14}},splitLine:{lineStyle:{color:"#ccc"}}}],color:["#ffc100","#ed7c30","#5a9bd5","#a5a5a5"],series:this.seriesData})}}},p=h,f=(e("25a7"),e("2877")),m=Object(f["a"])(p,n,s,!1,null,"0acf1f9a",null);a["default"]=m.exports},a5a3:function(t,a,e){}}]);