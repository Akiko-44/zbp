(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e53d0"],{9443:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",[i("el-tree",{ref:"menuTree",staticClass:"filter-tree",attrs:{"check-strictly":e.checkStrictly,"node-key":"id",data:e.treeData,"show-checkbox":"","highlight-current":"",props:e.defaultProps,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.getNodeData}})],1),e._v(" "),i("div",{staticClass:"text-center"},[i("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("保存")]),e._v(" "),i("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)])},c=[],r=(i("ac6a"),i("cc5e")),l={name:"GroupMenu",data:function(){return{roleId:"",filterText:"",list:null,total:null,listQuery:{name:void 0},treeData:[],defaultProps:{children:"children",label:"name"},checkStrictly:!1}},watch:{filterText:function(e){this.$refs.menuTree.filter(e)}},created:function(){},methods:{getList:function(){var e=this;this.checkStrictly=!0,Object(r["b"])({roleId:this.roleId}).then((function(t){e.treeData=t.data.roleMenu,e.initAuthoritys()}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},getNodeData:function(e){},update:function(){var e=this;this.$emit("closeAuthorityDialog");for(var t=this.$refs.menuTree.getCheckedNodes(!1,!0),i=[],n=0;n<t.length;n++)i.push(t[n].id);Object(r["a"])({roleId:this.roleId,menuIds:i}).then((function(){e.$notify({title:"成功",message:"保存成功",type:"success",duration:2e3})}))},initAuthoritys:function(){var e=this.collectId(this.treeData);this.$refs.menuTree.setCheckedKeys(e),this.checkStrictly=!1},collectId:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){var n=e.id,c=e.children,r=e.spread;r&&i.push(n),c&&t.collectId(c,i)})),i},cancel:function(){this.$emit("closeAuthorityDialog")}}},o=l,a=i("2877"),s=Object(a["a"])(o,n,c,!1,null,null,null);t["default"]=s.exports}}]);