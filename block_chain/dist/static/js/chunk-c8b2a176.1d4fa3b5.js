(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c8b2a176"],{"394c":function(e,t,a){"use strict";var r=a("f111"),l=a.n(r);l.a},8593:function(e,t,a){"use strict";a.d(t,"g",(function(){return l})),a.d(t,"k",(function(){return n})),a.d(t,"l",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"i",(function(){return o})),a.d(t,"h",(function(){return c})),a.d(t,"j",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"e",(function(){return b})),a.d(t,"d",(function(){return p})),a.d(t,"m",(function(){return f})),a.d(t,"c",(function(){return h}));var r=a("b775");function l(){return Object(r["a"])({url:"/admin/globalConfig/getList",method:"get"})}function n(e){return Object(r["a"])({url:"/admin/globalConfig/saveOrUpdate",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/admin/platform/saveOrUpdate",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/admin/platform/delete/".concat(e),method:"post"})}function o(e){return Object(r["a"])({url:"/admin/platform/getList",method:"get",params:e})}function c(e){return Object(r["a"])({url:"/admin/platform/getPlatform/".concat(e),method:"get"})}function u(e){return Object(r["a"])({url:"/admin/eth/platform/addOrUpdate",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/admin/eth/platform/delete",method:"post",params:e})}function m(e){return Object(r["a"])({url:"/admin/eth/platform/get",method:"get",params:e})}function b(e){return Object(r["a"])({url:"/admin/eth/platform/getDetail",method:"get",params:e})}function p(e){return Object(r["a"])({url:"/admin/eth/getBlockChainConfiguration",method:"get",params:e})}function f(e){return Object(r["a"])({url:"/admin/eth/updateBlockChainConfiguration",method:"post",data:e})}function h(e){return Object(r["a"])({url:"/admin/dispatchingManagement/initializePlatformDate",method:"post",data:e})}},"97e7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"buinessForm",staticClass:"listForm",attrs:{model:e.buinessForm,rules:e.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"平台名称（中文）:",prop:"displayName"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:30,placeholder:"请输入平台名称，30字以内"},model:{value:e.buinessForm.displayName,callback:function(t){e.$set(e.buinessForm,"displayName",t)},expression:"buinessForm.displayName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"平台名称（英文）:",prop:"platformName"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:30,placeholder:"请输入平台名称，30字以内"},model:{value:e.buinessForm.platformName,callback:function(t){e.$set(e.buinessForm,"platformName",t)},expression:"buinessForm.platformName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否回调上链平台:",prop:"callback"}},[a("el-radio-group",{on:{change:e.changeCallBack},model:{value:e.buinessForm.callback,callback:function(t){e.$set(e.buinessForm,"callback",t)},expression:"buinessForm.callback"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"请求回调地址URL:",prop:"callbackUrl"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{disabled:!e.buinessForm.callback,placeholder:"请输入请求回调地址URL"},model:{value:e.buinessForm.callbackUrl,callback:function(t){e.$set(e.buinessForm,"callbackUrl",t)},expression:"buinessForm.callbackUrl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否验证回调:",prop:"checkCallback"}},[a("el-radio-group",{on:{change:e.changeCheckCallBack},model:{value:e.buinessForm.checkCallback,callback:function(t){e.$set(e.buinessForm,"checkCallback",t)},expression:"buinessForm.checkCallback"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"请求验证回调URL:",prop:"checkCallbackUrl"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{disabled:!e.buinessForm.checkCallback,placeholder:"请输入请求回调地址URL"},model:{value:e.buinessForm.checkCallbackUrl,callback:function(t){e.$set(e.buinessForm,"checkCallbackUrl",t)},expression:"buinessForm.checkCallbackUrl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码:",prop:"password"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:16,placeholder:"请输入密码",type:"password",autocomplete:"off"},model:{value:e.buinessForm.password,callback:function(t){e.$set(e.buinessForm,"password",t)},expression:"buinessForm.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否启用:",prop:"isEnable"}},[a("el-radio-group",{model:{value:e.buinessForm.enabled,callback:function(t){e.$set(e.buinessForm,"enabled",t)},expression:"buinessForm.enabled"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("div",{staticClass:"button-box"},[a("el-button",{staticClass:"btn cancel-btn",on:{click:e.cancel}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"btn save-btn",attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("保存")])],1)],1)],1)])},l=[],n=a("8593"),i=a("61f7"),s={data:function(){return{loading:!1,buinessForm:{displayName:"",platformName:"",callback:1,callbackUrl:"",checkCallback:1,checkCallbackUrl:"",password:"",enabled:1},rules:{displayName:[{required:!0,message:"请输入平台名称",trigger:"blur"}],platformName:[{required:!0,message:"请输入平台名称",trigger:"blur"}],callbackUrl:[{required:!0,validator:this.validateUrl,trigger:"blur"}],checkCallbackUrl:[{required:!0,validator:this.validateCheckUrl,trigger:"blur"}],password:[{required:!0,validator:this.validatePass,trigger:"blur"}]}}},created:function(){var e=this;this.$route.query.id&&(this.buinessForm.id=this.$route.query.id,Object(n["h"])(this.buinessForm.id).then((function(t){e.buinessForm=t.data})))},methods:{add:function(){var e=this;Object(n["l"])(this.buinessForm).then((function(t){e.success()})).catch((function(){e.loading=!1}))},save:function(){var e=this;this.$refs.buinessForm.validate((function(t){if(!t)return e.$notify({title:"警告",message:"请务必填写必选项",type:"warning"}),!1;e.loading=!0,e.add()}))},success:function(){this.$notify({title:"成功",message:"提交成功",type:"success",duration:2e3}),this.$router.push({name:"businessPlatform"}),this.loading=!1},changeCallBack:function(e){e||(this.buinessForm.callbackUrl="",this.$refs.buinessForm.validateField("callbackUrl"))},changeCheckCallBack:function(e){e||(this.buinessForm.checkCallbackUrl="",this.$refs.buinessForm.validateField("checkCallbackUrl"))},cancel:function(){this.$router.go(-1)},validateUrl:function(e,t,a){this.buinessForm.callback?Object(i["e"])(t)?a():a(new Error("请输入正确的URL")):a()},validateCheckUrl:function(e,t,a){this.buinessForm.checkCallback?Object(i["e"])(t)?a():a(new Error("请输入正确的URL")):a()},validatePass:function(e,t,a){var r=/^[A-Za-z0-9]{6,16}$/;""===t?a(new Error("请输入密码")):r.test(t)?a():a(new Error("请输入6-16位数字或字母"))}}},o=s,c=(a("394c"),a("2877")),u=Object(c["a"])(o,r,l,!1,null,"3b0a381d",null);t["default"]=u.exports},f111:function(e,t,a){}}]);