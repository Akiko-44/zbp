(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2131c936"],{"66f0":function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return r}));var l=a("b775");function s(t){return Object(l["a"])({url:"/admin/task/getPage",method:"get",params:t})}function n(t){return Object(l["a"])({url:"/admin/task/getTaskDetail/",method:"get",params:t})}function r(){return Object(l["a"])({url:"/admin/task/getStatisticsResult",method:"get"})}},c430:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"listQueryForm",attrs:{model:t.listParams,inline:!0}},[a("el-form-item",{attrs:{label:"时间区间:"}},[a("el-date-picker",{staticStyle:{width:"380px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","start-placeholder":"开始","end-placeholder":"结束"},model:{value:t.createTime,callback:function(e){t.createTime=e},expression:"createTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态:"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:t.listParams.status,callback:function(e){t.$set(t.listParams,"status",e)},expression:"listParams.status"}},t._l(t.statusList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"结果:"}},[a("el-select",{attrs:{placeholder:"请选择结果"},model:{value:t.listParams.result,callback:function(e){t.$set(t.listParams,"result",e)},expression:"listParams.result"}},t._l(t.resultList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("查找")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"50",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"ID"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("span",[t._v(t._s(l.id))])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"200",align:"center",label:"任务名"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("span",[t._v(t._s(l.taskName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("span",[t._v(t._s(0==l.result?"无结果":1==l.result?"成功":"失败"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"结果"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("span",[t._v(t._s(0==l.status?"未执行":1==l.status?"执行中":"执行完成"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"200",align:"center",label:"开始时间"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("span",[t._v(t._s(l.beginTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"200",align:"center",label:"结束时间"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[l.endTime?a("span",[t._v(t._s(l.endTime))]):a("span",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"耗时"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[l.consumeTime?a("span",[t._v(t._s(l.consumeTime+"ms"))]):a("span",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"接口名"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[l.apiName?a("span",[t._v(t._s(l.apiName))]):a("span",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"200",align:"center",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("span",[t._v(t._s(l.createTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"200",align:"center",label:"更新时间"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("span",[t._v(t._s(l.updateTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(e){return t.$router.push({name:"taskDetail",query:{id:l.id}})}}},[t._v("详情")])]}}])})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.listLoading,expression:"!listLoading"}],staticClass:"pagination-container"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50],total:t.total,"page-size":t.listParams.size,"current-page":t.listParams.current},on:{"update:currentPage":function(e){return t.$set(t.listParams,"current",e)},"update:current-page":function(e){return t.$set(t.listParams,"current",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},s=[],n=a("66f0"),r={data:function(){return{list:null,total:null,listLoading:!1,listParams:{current:1,size:20,beginTime:void 0,endTime:void 0,status:void 0,result:void 0},createTime:[],statusList:[{label:"全部",value:void 0},{label:"未执行",value:0},{label:"正在执行中",value:1},{label:"执行完成",value:2}],resultList:[{label:"全部",value:void 0},{label:"无结果",value:0},{label:"成功",value:1},{label:"失败",value:2}]}},created:function(){"成功"===this.$route.query.result?this.listParams.result=1:"失败"===this.$route.query.result?this.listParams.result=2:"无结果"===this.$route.query.result&&(this.listParams.result=0),this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,this.listParams.beginTime=this.createTime?this.createTime[0]:void 0,this.listParams.endTime=this.createTime?this.createTime[1]:void 0,Object(n["c"])(this.listParams).then((function(e){t.list=e.data.records,t.total=e.data.total,t.listLoading=!1})).catch((function(){}))},handleFilter:function(){var t=this;this.$refs.listQueryForm.validate((function(e){if(!e)return!1;t.getList()}))},handleSizeChange:function(t){this.listParams.size=t,this.getList()},handleCurrentChange:function(t){this.listParams.current=t,this.getList()}}},i=r,u=a("2877"),o=Object(u["a"])(i,l,s,!1,null,null,null);e["default"]=o.exports}}]);