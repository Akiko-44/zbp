(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ad8a1e0"],{2034:function(a,t,e){"use strict";var r=e("3548"),o=e.n(r);o.a},3548:function(a,t,e){},"5cea":function(a,t,e){"use strict";e.r(t);var r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"filter-container"},[e("el-form",{ref:"blockChainForm",staticClass:"listForm",attrs:{model:a.blockChainForm,rules:a.rules,"label-width":"140px"}},[e("el-form-item",{attrs:{label:"区块链平台名称:",prop:"displayName"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:30,placeholder:"请输入区块链平台名称"},model:{value:a.blockChainForm.displayName,callback:function(t){a.$set(a.blockChainForm,"displayName",t)},expression:"blockChainForm.displayName"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"区块链平台简称:",prop:"blockchainName"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:30,placeholder:"请输入区块链平台简称"},model:{value:a.blockChainForm.blockchainName,callback:function(t){a.$set(a.blockChainForm,"blockchainName",t)},expression:"blockChainForm.blockchainName"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"是否启用:",prop:"enabled"}},[e("el-radio-group",{model:{value:a.blockChainForm.enabled,callback:function(t){a.$set(a.blockChainForm,"enabled",t)},expression:"blockChainForm.enabled"}},[e("el-radio",{attrs:{label:1}},[a._v("是")]),a._v(" "),e("el-radio",{attrs:{label:0}},[a._v("否")])],1)],1),a._v(" "),e("el-form-item",{attrs:{label:"区块链类型:",prop:"enabled"}},[e("el-select",{attrs:{placeholder:"请选择区块链类型"},on:{change:function(t){return a.$forceUpdate()}},model:{value:a.blockChainForm.type,callback:function(t){a.$set(a.blockChainForm,"type",t)},expression:"blockChainForm.type"}},a._l(a.blockChainList,(function(a,t){return e("el-option",{key:t,attrs:{label:a,value:a}})})),1)],1),a._v(" "),"ETH"===a.blockChainForm.type?[e("el-form-item",{attrs:{label:"钱包文件:",prop:"platformParams.keystore"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:30,placeholder:"请输入钱包文件"},model:{value:a.blockChainForm.platformParams.keystore,callback:function(t){a.$set(a.blockChainForm.platformParams,"keystore",t)},expression:"blockChainForm.platformParams.keystore"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"密码:",prop:"platformParams.password"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入密码",type:"password",autocomplete:"off"},model:{value:a.blockChainForm.platformParams.password,callback:function(t){a.$set(a.blockChainForm.platformParams,"password",t)},expression:"blockChainForm.platformParams.password"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"合约地址:",prop:"platformParams.contract_address"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:30,placeholder:"请输入合约地址"},model:{value:a.blockChainForm.platformParams.contract_address,callback:function(t){a.$set(a.blockChainForm.platformParams,"contract_address",t)},expression:"blockChainForm.platformParams.contract_address"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"矿工费上限:",prop:"platformParams.gasLimit"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:30,placeholder:"请输入矿工费上限"},model:{value:a.blockChainForm.platformParams.gasLimit,callback:function(t){a.$set(a.blockChainForm.platformParams,"gasLimit",t)},expression:"blockChainForm.platformParams.gasLimit"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"钱包地址:",prop:"platformParams.platform_address"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:30,placeholder:"请输入钱包地址"},model:{value:a.blockChainForm.platformParams.platform_address,callback:function(t){a.$set(a.blockChainForm.platformParams,"platform_address",t)},expression:"blockChainForm.platformParams.platform_address"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"URL:",prop:"platformParams.url"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:30,placeholder:"请输入URL"},model:{value:a.blockChainForm.platformParams.url,callback:function(t){a.$set(a.blockChainForm.platformParams,"url",t)},expression:"blockChainForm.platformParams.url"}})],1)]:a._e(),a._v(" "),e("div",{staticClass:"button-box"},[e("el-button",{staticClass:"btn cancel-btn",on:{click:a.cancel}},[a._v("取消")]),a._v(" "),e("el-button",{staticClass:"btn save-btn",attrs:{type:"primary",loading:a.loading},on:{click:a.save}},[a._v("保存")])],1)],2)],1)])},o=[],l=e("8593"),n=e("61f7"),i={data:function(){return{loading:!1,blockChainForm:{id:void 0,blockchainName:"",displayName:"",enabled:1,type:"ETH",platformParams:{keystore:"",password:"",contract_address:"",gasLimit:"",platform_address:"",url:""}},blockChainList:["ETH","EOS","Fabric"],rules:{displayName:[{required:!0,message:"请输入区块链平台名称",trigger:"blur"}],blockchainName:[{required:!0,message:"请输入区块链平台简称",trigger:"blur"}],enabled:[{required:!0,message:"请选择是否启用",trigger:"blur"}],"platformParams.keystore":[{required:!0,message:"请输入钱包文件",trigger:"blur"}],"platformParams.platform_address":[{required:!0,message:"请输入钱包地址",trigger:"blur"}],"platformParams.password":[{required:!0,message:"请输入密码",trigger:"blur"}]}}},created:function(){var a=this;this.$route.query.id&&(this.blockChainForm.id=this.$route.query.id,Object(l["e"])({id:this.blockChainForm.id}).then((function(t){a.blockChainForm=t.data})))},methods:{add:function(){var a=this;Object(l["j"])(this.blockChainForm).then((function(t){a.success()})).catch((function(){a.loading=!1}))},save:function(){var a=this;this.$refs.blockChainForm.validate((function(t){if(!t)return a.$notify({title:"警告",message:"请务必填写必选项",type:"warning"}),!1;a.loading=!0,a.add()}))},success:function(){this.$notify({title:"成功",message:"提交成功",type:"success",duration:2e3}),this.$router.push({name:"blockChainPlatform"}),this.loading=!1},cancel:function(){this.$router.go(-1)},validateUrl:function(a,t,e){Object(n["e"])(t)?e():e(new Error("请输入正确的URL"))},validatePass:function(a,t,e){var r=/^[A-Za-z0-9]{6,16}$/;""===t?e(new Error("请输入密码")):r.test(t)?e():e(new Error("请输入6-16位数字或字母"))}}},s=i,c=(e("2034"),e("2877")),m=Object(c["a"])(s,r,o,!1,null,"7c3c2191",null);t["default"]=m.exports},8593:function(a,t,e){"use strict";e.d(t,"g",(function(){return o})),e.d(t,"k",(function(){return l})),e.d(t,"l",(function(){return n})),e.d(t,"b",(function(){return i})),e.d(t,"i",(function(){return s})),e.d(t,"h",(function(){return c})),e.d(t,"j",(function(){return m})),e.d(t,"a",(function(){return d})),e.d(t,"f",(function(){return u})),e.d(t,"e",(function(){return p})),e.d(t,"d",(function(){return f})),e.d(t,"m",(function(){return h})),e.d(t,"c",(function(){return b}));var r=e("b775");function o(){return Object(r["a"])({url:"/admin/globalConfig/getList",method:"get"})}function l(a){return Object(r["a"])({url:"/admin/globalConfig/saveOrUpdate",method:"post",data:a})}function n(a){return Object(r["a"])({url:"/admin/platform/saveOrUpdate",method:"post",data:a})}function i(a){return Object(r["a"])({url:"/admin/platform/delete/".concat(a),method:"post"})}function s(a){return Object(r["a"])({url:"/admin/platform/getList",method:"get",params:a})}function c(a){return Object(r["a"])({url:"/admin/platform/getPlatform/".concat(a),method:"get"})}function m(a){return Object(r["a"])({url:"/admin/eth/platform/addOrUpdate",method:"post",data:a})}function d(a){return Object(r["a"])({url:"/admin/eth/platform/delete",method:"post",params:a})}function u(a){return Object(r["a"])({url:"/admin/eth/platform/get",method:"get",params:a})}function p(a){return Object(r["a"])({url:"/admin/eth/platform/getDetail",method:"get",params:a})}function f(a){return Object(r["a"])({url:"/admin/eth/getBlockChainConfiguration",method:"get",params:a})}function h(a){return Object(r["a"])({url:"/admin/eth/updateBlockChainConfiguration",method:"post",data:a})}function b(a){return Object(r["a"])({url:"/admin/dispatchingManagement/initializePlatformDate",method:"post",data:a})}}}]);