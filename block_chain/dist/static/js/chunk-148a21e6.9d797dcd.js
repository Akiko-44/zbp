(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-148a21e6"],{"0df5":function(e,a,t){},8593:function(e,a,t){"use strict";t.d(a,"g",(function(){return l})),t.d(a,"k",(function(){return n})),t.d(a,"l",(function(){return s})),t.d(a,"b",(function(){return i})),t.d(a,"i",(function(){return o})),t.d(a,"h",(function(){return c})),t.d(a,"j",(function(){return u})),t.d(a,"a",(function(){return d})),t.d(a,"f",(function(){return m})),t.d(a,"e",(function(){return b})),t.d(a,"d",(function(){return f})),t.d(a,"m",(function(){return p})),t.d(a,"c",(function(){return h}));var r=t("b775");function l(){return Object(r["a"])({url:"/admin/globalConfig/getList",method:"get"})}function n(e){return Object(r["a"])({url:"/admin/globalConfig/saveOrUpdate",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/admin/platform/saveOrUpdate",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/admin/platform/delete/".concat(e),method:"post"})}function o(e){return Object(r["a"])({url:"/admin/platform/getList",method:"get",params:e})}function c(e){return Object(r["a"])({url:"/admin/platform/getPlatform/".concat(e),method:"get"})}function u(e){return Object(r["a"])({url:"/admin/eth/platform/addOrUpdate",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/admin/eth/platform/delete",method:"post",params:e})}function m(e){return Object(r["a"])({url:"/admin/eth/platform/get",method:"get",params:e})}function b(e){return Object(r["a"])({url:"/admin/eth/platform/getDetail",method:"get",params:e})}function f(e){return Object(r["a"])({url:"/admin/eth/getBlockChainConfiguration",method:"get",params:e})}function p(e){return Object(r["a"])({url:"/admin/eth/updateBlockChainConfiguration",method:"post",data:e})}function h(e){return Object(r["a"])({url:"/admin/dispatchingManagement/initializePlatformDate",method:"post",data:e})}},"97e7":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"filter-container"},[t("el-form",{ref:"buinessForm",staticClass:"listForm",staticStyle:{width:"100%"},attrs:{model:e.buinessForm,rules:e.rules,"label-width":"140px"}},[t("el-form-item",{attrs:{label:"平台名称（中文）:",prop:"displayName"}},[t("el-input",{attrs:{maxlength:30,placeholder:"请输入平台名称，30字以内"},model:{value:e.buinessForm.displayName,callback:function(a){e.$set(e.buinessForm,"displayName",a)},expression:"buinessForm.displayName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"平台名称（英文）:",prop:"platformName"}},[t("el-input",{attrs:{maxlength:30,placeholder:"请输入平台名称，30字以内"},model:{value:e.buinessForm.platformName,callback:function(a){e.$set(e.buinessForm,"platformName",a)},expression:"buinessForm.platformName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否回调上链平台:",prop:"callback"}},[t("el-radio-group",{on:{change:e.changeCallBack},model:{value:e.buinessForm.callback,callback:function(a){e.$set(e.buinessForm,"callback",a)},expression:"buinessForm.callback"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"请求回调地址URL:",prop:"callbackUrl"}},[t("el-input",{attrs:{disabled:!e.buinessForm.callback,placeholder:"请输入请求回调地址URL"},model:{value:e.buinessForm.callbackUrl,callback:function(a){e.$set(e.buinessForm,"callbackUrl",a)},expression:"buinessForm.callbackUrl"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否验证回调:",prop:"checkCallback"}},[t("el-radio-group",{on:{change:e.changeCheckCallBack},model:{value:e.buinessForm.checkCallback,callback:function(a){e.$set(e.buinessForm,"checkCallback",a)},expression:"buinessForm.checkCallback"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"请求验证回调URL:",prop:"checkCallbackUrl"}},[t("el-input",{attrs:{disabled:!e.buinessForm.checkCallback,placeholder:"请输入请求回调地址URL"},model:{value:e.buinessForm.checkCallbackUrl,callback:function(a){e.$set(e.buinessForm,"checkCallbackUrl",a)},expression:"buinessForm.checkCallbackUrl"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码:",prop:"password"}},[t("el-input",{attrs:{maxlength:16,placeholder:"请输入密码",type:"password",autocomplete:"off"},model:{value:e.buinessForm.password,callback:function(a){e.$set(e.buinessForm,"password",a)},expression:"buinessForm.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否启用:",prop:"isEnable"}},[t("el-radio-group",{model:{value:e.buinessForm.enabled,callback:function(a){e.$set(e.buinessForm,"enabled",a)},expression:"buinessForm.enabled"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),t("div",{staticClass:"text-center"},[t("el-button",{staticClass:"btn cancel-btn",on:{click:e.cancel}},[e._v("取消")]),e._v(" "),t("el-button",{staticClass:"btn save-btn",attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("保存")])],1)],1)],1)])},l=[],n=t("8593"),s=t("61f7"),i={data:function(){return{loading:!1,buinessForm:{displayName:"",platformName:"",callback:1,callbackUrl:"",checkCallback:1,checkCallbackUrl:"",password:"",enabled:1},rules:{displayName:[{required:!0,message:"请输入平台名称",trigger:"blur"}],platformName:[{required:!0,message:"请输入平台名称",trigger:"blur"}],callbackUrl:[{required:!0,validator:this.validateUrl,trigger:"blur"}],checkCallbackUrl:[{required:!0,validator:this.validateCheckUrl,trigger:"blur"}],password:[{required:!0,validator:this.validatePass,trigger:"blur"}]}}},created:function(){var e=this;this.$route.query.id&&(this.buinessForm.id=this.$route.query.id,Object(n["h"])(this.buinessForm.id).then((function(a){e.buinessForm=a.data})))},methods:{add:function(){var e=this;Object(n["l"])(this.buinessForm).then((function(a){e.success()})).catch((function(){e.loading=!1}))},save:function(){var e=this;this.$refs.buinessForm.validate((function(a){if(!a)return e.$notify({title:"警告",message:"请务必填写必选项",type:"warning"}),!1;e.loading=!0,e.add()}))},success:function(){this.$notify({title:"成功",message:"提交成功",type:"success",duration:2e3}),this.$router.push({name:"businessPlatform"}),this.loading=!1},changeCallBack:function(e){e||(this.buinessForm.callbackUrl="",this.$refs.buinessForm.validateField("callbackUrl"))},changeCheckCallBack:function(e){e||(this.buinessForm.checkCallbackUrl="",this.$refs.buinessForm.validateField("checkCallbackUrl"))},cancel:function(){this.$router.go(-1)},validateUrl:function(e,a,t){this.buinessForm.callback?Object(s["e"])(a)?t():t(new Error("请输入正确的URL")):t()},validateCheckUrl:function(e,a,t){this.buinessForm.checkCallback?Object(s["e"])(a)?t():t(new Error("请输入正确的URL")):t()},validatePass:function(e,a,t){var r=/^[A-Za-z0-9]{6,16}$/;""===a?t(new Error("请输入密码")):r.test(a)?t():t(new Error("请输入6-16位数字或字母"))}}},o=i,c=(t("cf02"),t("2877")),u=Object(c["a"])(o,r,l,!1,null,"98efe236",null);a["default"]=u.exports},cf02:function(e,a,t){"use strict";var r=t("0df5"),l=t.n(r);l.a}}]);