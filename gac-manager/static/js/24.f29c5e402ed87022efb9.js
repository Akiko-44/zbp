webpackJsonp([24],{BJDX:function(t,e,r){var a=r("Ndxj");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("d9283052",a,!0)},FVMq:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("Xxa5"),n=r.n(a),o=r("exGp"),i=r.n(o),s=r("Q0Ca"),l=r("mvHQ"),c=r.n(l),u=r("7rdf"),f={data:function(){return{loading:!1,dialogFormVisible:!1,form:{opinion:"",designerId:"",auditState:""},rules:{opinion:[{required:!0,message:"请输入审核意见",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]}}},methods:{resetForm:function(t,e){var r=this;this.$nextTick(function(){r.$refs[t].resetFields(),r.form.designerId=void 0,setTimeout(function(){e&&e()})})},cancel:function(){this.dialogFormVisible=!1,this.resetForm("form")},success:function(){this.loading=!1,this.$emit("success",JSON.parse(c()(this.form)))},update:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,Object(u.a)(e.form).then(function(){e.dialogFormVisible=!1,e.$notify({title:"成功",message:"编辑成功",type:"success",duration:2e3}),e.success()}).catch(function(){e.loading=!1})})}}},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{title:"审核操作",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[r("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"审核意见",prop:"opinion"}},[r("el-input",{model:{value:t.form.opinion,callback:function(e){t.$set(t.form,"opinion",e)},expression:"form.opinion"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.cancel("form")}}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.update("form")}}},[t._v("确 定")])],1)],1)},staticRenderFns:[]},d=r("VU/8")(f,m,!1,null,null,null).exports,p={props:{showAudit:{type:Boolean,default:!1}},components:{auditDialog:d},data:function(){return{form:{}}},beforeRouteEnter:function(t,e,r){var a=this;return i()(n.a.mark(function e(){var o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.c)(t.query.id).then(function(t){return t.data});case 2:o=e.sent,r(function(t){setTimeout(function(){t.form=o},10)});case 4:case"end":return e.stop()}},e,a)}))()},methods:{getImageStyle:function(t){return{backgroundImage:"url("+Object(s.setImg)(t,{w:500})+")"}},audit:function(t){var e=this.$refs.auditDialog;e.dialogFormVisible=!0,e.form.designerId=this.form.id,e.form.auditState=t},auditSuccess:function(){var t=5===this.form.goodsSource?"workList":"makeWorkList";this.$router.push({name:t})}}},v={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container",staticStyle:{"padding-right":"40px"}},[r("el-form",{attrs:{"label-width":"120px"}},[r("h4",{attrs:{id:"BaseInfo"}},[t._v("基本信息：")]),t._v(" "),r("el-form-item",{attrs:{label:"商品名称"}},[r("span",[t._v(t._s(t.form.caseName))])]),t._v(" "),r("el-form-item",{attrs:{label:"副标题"}},[r("span",[t._v(t._s(t.form.subtitle))])]),t._v(" "),r("el-form-item",{attrs:{label:"关键字"}},[r("span",[t._v(t._s(t.form.keywords))])]),t._v(" "),r("h4",{attrs:{id:"WorkInfo"}},[t._v("商品信息：")]),t._v(" "),r("el-form-item",{attrs:{label:"商品分类"}},[r("span",[t._v(t._s(t.form.primaryCgyName)+" - "+t._s(t.form.secondaryCgyName))])]),t._v(" "),r("el-form-item",{attrs:{label:"商品主图"}},[t.form.picUrlList&&t.form.picUrlList.length?r("el-row",{staticClass:"row"},t._l(t.form.picUrlList,function(e,a){return r("el-col",{key:a,staticClass:"col",attrs:{span:6}},[r("el-card",{staticStyle:{width:"250px"},attrs:{"body-style":{padding:"0px"}}},[r("a",{staticClass:"image",style:t.getImageStyle(e),attrs:{target:"_blank",href:t._f("setImg")(e)}})])],1)})):t._e()],1),t._v(" "),r("el-form-item",{attrs:{label:"设计理念"}},[r("span",[t._v(t._s(t.form.designConcept))])]),t._v(" "),r("el-form-item",{attrs:{label:"运费设置"}},[r("span",[t._v("￥"+t._s(t.form.freightPrice))])]),t._v(" "),r("el-form-item",{attrs:{label:"库存",prop:"stock"}},[r("div",[t._v(t._s(t.form.stock)+" ("+t._s(1==t.form.stockType?"付款减库存":"拍下减库存")+")")])]),t._v(" "),r("h4",{attrs:{id:"WorkDetail"}},[t._v("商品详情：")]),t._v(" "),r("el-form-item",{attrs:{label:"参数设置"}},[r("el-table",{staticStyle:{width:"540px","margin-bottom":"10px"},attrs:{data:t.form.caseAttrsDTOList,border:""}},[r("el-table-column",{attrs:{align:"center",label:"参数名称"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[r("span",[t._v(t._s(a.attrName))])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"参数值"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[r("span",[t._v(t._s(a.attrValue))])]}}])})],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"商品价格"}},[r("span",[t._v("￥"+t._s(t.form.price))])]),t._v(" "),r("el-form-item",{attrs:{label:"原价"}},[r("span",[t._v("￥"+t._s(t.form.originalPrice))])]),t._v(" "),r("el-form-item",{attrs:{label:"商品详情"}},[r("div",{domProps:{innerHTML:t._s(t.form.caseInfo)}})]),t._v(" "),t.showAudit&&0==t.form.auditState||2==t.form.auditState?r("el-form-item",{attrs:{label:"操作"}},[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.audit(1)}}},[t._v("审核通过")]),t._v(" "),0==t.form.auditState?r("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(e){t.audit(2)}}},[t._v("审核拒绝")]):t._e()],1):t._e()],1),t._v(" "),r("audit-dialog",{ref:"auditDialog",on:{success:t.auditSuccess}})],1)},staticRenderFns:[]};var _=r("VU/8")(p,v,!1,function(t){r("BJDX")},"data-v-571ef86e",null);e.default=_.exports},Ndxj:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"\n.image[data-v-571ef86e] {\n  display: block;\n  max-width: 100%;\n  height: 200px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n.danger[data-v-571ef86e] {\n  color: #F56C6C;\n}\n.el-col-6[data-v-571ef86e] {\n  margin-bottom: 20px;\n}\n",""])},eCWo:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("Xxa5"),n=r.n(a),o=r("exGp"),i=r.n(o),s=r("FVMq"),l=r("7rdf"),c={beforeRouteEnter:function(t,e,r){var a=this;return i()(n.a.mark(function e(){var o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.c)(t.query.id).then(function(t){return t.data});case 2:o=e.sent,r(function(t){setTimeout(function(){t.$refs.detail.form=o},10)});case 4:case"end":return e.stop()}},e,a)}))()},components:{WorkDetail:s.default}},u={render:function(){var t=this.$createElement;return(this._self._c||t)("WorkDetail",{ref:"detail",attrs:{showAudit:!0}})},staticRenderFns:[]},f=r("VU/8")(c,u,!1,null,null,null);e.default=f.exports}});