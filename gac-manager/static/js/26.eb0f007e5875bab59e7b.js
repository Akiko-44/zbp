webpackJsonp([26],{"1E7Y":function(t,e,a){var r=a("WxwC");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("18165ffa",r,!0)},TEeN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Xxa5"),o=a.n(r),i=a("exGp"),n=a.n(i),s=a("aaQv"),l=a("Zg3+"),m=a("Q0Ca"),c=a("DQPn"),d={components:{auditDialog:s.a},data:function(){return{domain:l.a,form:{},auditState:{1:"审核中",2:"审核通过",3:"审核不通过"}}},beforeRouteEnter:function(t,e,a){var r=this;return n()(o.a.mark(function e(){var i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.e)(t.query.id).then(function(t){return t.data});case 2:i=e.sent,a(function(t){setTimeout(function(){t.form=i,t.form.designerAuditLogList=i.designerAuditLogList||[]},10)});case 4:case"end":return e.stop()}},e,r)}))()},methods:{audit:function(t){var e=this.$refs.auditDialog;e.dialogFormVisible=!0,e.form.designerId=this.form.id,e.form.auditState=t},auditSuccess:function(t){this.$notify({title:"成功",message:"操作成功",type:"success",duration:2e3}),this.$router.push({name:"designList"})},getImageStyle:function(t){return{backgroundImage:"url("+Object(m.setImg)(t,{w:500})+")"}}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container",staticStyle:{"padding-right":"40px"}},[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"ID"}},[a("span",[t._v(t._s(t.form.id))])]),t._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("span",[t._v(t._s(t.form.userName))])]),t._v(" "),a("el-form-item",{attrs:{label:"头像"}},[t.form.userLogo?a("el-row",{staticClass:"row"},[a("el-col",{staticClass:"col",attrs:{span:6}},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("a",{staticClass:"image",style:t.getImageStyle(t.form.userLogo),attrs:{target:"_blank",href:t._f("setImg")(t.form.userLogo)}})])],1)],1):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"性别"}},[t._v("\n      "+t._s(0==t.form.sex?"男":"女")+"\n    ")]),t._v(" "),a("el-form-item",{attrs:{label:"联系手机"}},[a("span",[t._v(t._s(t.form.mobile))])]),t._v(" "),a("el-form-item",{attrs:{label:"设计年限"}},[a("span",[t._v(t._s(t.form.ageLimit))])]),t._v(" "),a("el-form-item",{attrs:{label:"行业资历"}},[a("span",[t._v(t._s(t.form.experience))])]),t._v(" "),a("el-form-item",{attrs:{label:"证书与奖励"}},[a("span",[t._v(t._s(t.form.honor))])]),t._v(" "),a("el-form-item",{attrs:{label:"描述图片"}},[t.form.picUrlList&&t.form.picUrlList.length?a("el-row",{staticClass:"row"},t._l(t.form.picUrlList,function(e,r){return a("el-col",{key:r,staticClass:"col",attrs:{span:6}},[a("el-card",{staticStyle:{width:"250px"},attrs:{"body-style":{padding:"0px"}}},[a("a",{staticClass:"image",style:t.getImageStyle(e),attrs:{target:"_blank",href:t._f("setImg")(e)}})])],1)})):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"分类"}},[a("span",[t._v(t._s(t.form.cateFirst)+" - "+t._s(t.form.cateSecond)+" - "+t._s(t.form.cateThree))])]),t._v(" "),a("el-form-item",{attrs:{label:"设计室商户编号"}},[t.form.merVO&&t.form.merVO.merchantName?a("div",{staticClass:"merVoData"},[a("p",[t._v(t._s(t.form.merVO.merchantName))]),t._v(" "),a("p",[t._v(t._s(t.form.merVO.province)+t._s(t.form.merVO.city)+t._s(t.form.merVO.address))])]):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"本人所在城市"}},[a("span",[t._v(t._s(t.form.province)+" "+t._s(t.form.city)+" "+t._s(t.form.area))])]),t._v(" "),a("el-form-item",{attrs:{label:"视频介绍"}},[t.form.videoUrl?a("video",{staticStyle:{width:"450px",height:"250px"},attrs:{controls:"controls",src:t.domain+"/"+t.form.videoUrl}},[t._v("\n        您的浏览器不支持 html5 video 属性，下载视频查看：\n        "),a("el-button",{attrs:{size:"mini",type:"text"}},[a("a",{attrs:{href:t.domain+"/"+t.form.videoUrl,target:"_blank"}},[t._v("下载视频")])])],1):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"身份证正面照片(国徽页)"}},[t.form.idPicFront?a("el-row",{staticClass:"row"},[a("el-col",{staticClass:"col",attrs:{span:6}},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("a",{staticClass:"image",style:t.getImageStyle(t.form.idPicFront),attrs:{target:"_blank",href:t._f("setImg")(t.form.idPicFront)}})])],1)],1):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"身份证反面照片(人像页)"}},[t.form.idPicBack?a("el-row",{staticClass:"row"},[a("el-col",{staticClass:"col",attrs:{span:6}},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("a",{staticClass:"image",style:t.getImageStyle(t.form.idPicBack),attrs:{target:"_blank",href:t._f("setImg")(t.form.idPicBack)}})])],1)],1):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"收费标准",prop:"chargeStandard"}},[t._v("\n      "+t._s(t.form.chargeStandard)+" 元/小时\n    ")]),t._v(" "),a("el-form-item",{attrs:{label:"审核操作"}},[2!==t.form.auditState?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.audit(2)}}},[t._v("审核通过")]):t._e(),t._v(" "),3!==t.form.auditState?a("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(e){t.audit(3)}}},[t._v("审核拒绝")]):t._e()],1)],1),t._v(" "),a("el-table",{attrs:{data:t.form.designerAuditLogList}},[a("el-table-column",{attrs:{label:"审核记录",align:"center"}},[a("el-table-column",{attrs:{prop:"createTime",label:"日期",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("span",[t._v(t._s(t.auditState[r.auditState]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"opinion",label:"意见",width:"500"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"auditName",label:"审核人",width:"100"}})],1)],1),t._v(" "),a("audit-dialog",{ref:"auditDialog",on:{success:t.auditSuccess}})],1)},staticRenderFns:[]};var u=a("VU/8")(d,f,!1,function(t){a("1E7Y")},"data-v-52b853ca",null);e.default=u.exports},WxwC:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.image[data-v-52b853ca] {\n  display: block;\n  max-width: 100%;\n  height: 200px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n.danger[data-v-52b853ca] {\n  color: #F56C6C;\n}\n.el-col-6[data-v-52b853ca] {\n  margin-bottom: 20px;\n}\n.my-autocomplete li[data-v-52b853ca] {\n  line-height: normal;\n  padding: 7px;\n}\n.my-autocomplete li .name[data-v-52b853ca] {\n    text-overflow: ellipsis;\n    overflow: hidden;\n}\n.my-autocomplete li .addr[data-v-52b853ca] {\n    font-size: 12px;\n    color: #b4b4b4;\n}\n.my-autocomplete li .highlighted .addr[data-v-52b853ca] {\n    color: #ddd;\n}\n.merVoData[data-v-52b853ca] {\n  padding-top: 10px;\n  line-height: 22px;\n}\n.merVoData p[data-v-52b853ca] {\n    margin: 0;\n    color: #606266;\n}\n",""])},aaQv:function(t,e,a){"use strict";var r=a("mvHQ"),o=a.n(r),i=a("DQPn"),n={data:function(){return{loading:!1,dialogFormVisible:!1,form:{opinion:"",designerId:"",auditState:""},rules:{opinion:[{required:!0,message:"请输入审核意见",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]}}},methods:{resetForm:function(t,e){var a=this;this.$nextTick(function(){a.$refs[t].resetFields(),a.form.designerId=void 0,setTimeout(function(){e&&e()})})},cancel:function(){this.dialogFormVisible=!1,this.resetForm("form")},success:function(){this.loading=!1,this.$emit("success",JSON.parse(o()(this.form)))},update:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,Object(i.b)(e.form).then(function(){e.dialogFormVisible=!1,e.$notify({title:"成功",message:"编辑成功",type:"success",duration:2e3}),e.success()}).catch(function(){e.loading=!1})})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"审核操作",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[3==t.form.auditState?a("el-form-item",{attrs:{label:"审核意见",prop:"opinion"}},[a("el-input",{model:{value:t.form.opinion,callback:function(e){t.$set(t.form,"opinion",e)},expression:"form.opinion"}})],1):t._e(),t._v(" "),2==t.form.auditState?a("el-form-item",{attrs:{label:""}},[a("span",[t._v("是否审核通过该设计师？")])]):t._e()],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.cancel("form")}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.update("form")}}},[t._v("确 定")])],1)],1)},staticRenderFns:[]},l=a("VU/8")(n,s,!1,null,null,null);e.a=l.exports}});