webpackJsonp([22],{U2J2:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.detail[data-v-79ba1d2e] {\n  margin:20px 14px;\n}\n.table-expand[data-v-79ba1d2e] {\n  font-size: 0;\n}\n.table-expand label[data-v-79ba1d2e] {\n  width: 90px;\n  color: #99a9bf;\n}\n.table-expand .el-form-item[data-v-79ba1d2e] {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 30%;\n}\n",""])},eJwT:function(e,t,a){"use strict";var l=a("b6Iv"),n=a("tLNO"),i=a("XDMK"),s={props:{detail:Object},data:function(){return{loading:!1}},computed:{isAdmin:function(){return-1!==this.$store.state.user.roles.indexOf("admin")},text:function(){return 5===this.detail.orderType?"设计":"制造"}},methods:{allowCancelOrder:i.a,allowStartDesign:i.f,allowCompleteDesign:i.c,allowDelivery:i.e,allowCompleteOrder:i.d,startDesign:function(){this.commonAction(Object(n.k)(this.detail.orderNumber),3)},completeDesign:function(){this.commonAction(Object(n.a)(this.detail.orderNumber),4)},cancel:function(){this.commonAction(Object(l.a)(this.detail.orderNumber),8)},delivery:function(){this.commonAction(Object(n.c)(this.detail.orderNumber),5)},completeOrder:function(){this.commonAction(Object(n.b)(this.detail.orderNumber),7)},commonAction:function(e,t){var a=this;return this.loading=!0,e.then(function(){a.$notify({title:"成功",message:"操作成功",type:"success",duration:2e3}),a.detail.state=t,a.loading=!1}).catch(function(){a.loading=!1})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isAdmin&&e.allowCancelOrder(e.detail.state)?a("el-button",{attrs:{loading:e.loading,size:"small",type:"danger"},on:{click:e.cancel}},[e._v("取消订单")]):e._e(),e._v(" "),e.isAdmin?e._e():[e.allowStartDesign(e.detail.state)?a("el-button",{attrs:{loading:e.loading,type:"primary",size:"small"},on:{click:e.startDesign}},[e._v("开始"+e._s(e.text))]):e._e(),e._v(" "),e.allowCompleteDesign(e.detail.state)?a("el-button",{attrs:{loading:e.loading,type:"success",size:"small"},on:{click:e.completeDesign}},[e._v("完成"+e._s(e.text))]):e._e(),e._v(" "),e.allowDelivery(e.detail.state)?a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:e.delivery}},[e._v("发货")]):e._e(),e._v(" "),e.allowCompleteOrder(e.detail.state)?a("el-button",{attrs:{loading:e.loading,type:"primary",size:"small"},on:{click:e.completeOrder}},[e._v("订单完成")]):e._e()]],2)},staticRenderFns:[]},o=a("VU/8")(s,r,!1,null,null,null);t.a=o.exports},lU31:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Xxa5"),n=a.n(l),i=a("exGp"),s=a.n(i),r=a("tLNO"),o=a("XDMK"),d={components:{OrderOperation:a("eJwT").a},data:function(){return{orderState:o.i,payType:o.j,detail:{list:[]}}},beforeRouteEnter:function(e,t,a){var l=this;return s()(n.a.mark(function t(){var i,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.g)(e.query.id);case 2:i=t.sent,s=i.data,a(function(e){e.detail=s});case 5:case"end":return t.stop()}},t,l)}))()},methods:{}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail"},[a("div",{staticClass:"actions"},[a("OrderOperation",{attrs:{detail:e.detail}})],1),e._v(" "),a("br"),e._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"订单信息"}},[a("h4",[e._v("基本信息")]),e._v(" "),a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"订单编号"}},[a("span",[e._v(e._s(e.detail.orderNumber))])]),e._v(" "),a("el-form-item",{attrs:{label:"订单创建时间"}},[a("span",[e._v(e._s(e.detail.createTime))])]),e._v(" "),a("el-form-item",{attrs:{label:"订单状态"}},[a("span",[e._v(e._s(e.orderState[e.detail.state]))])]),e._v(" "),a("el-form-item",{attrs:{label:"应付金额"}},[a("span",[e._v("￥"+e._s(e.detail.payMoney))])]),e._v(" "),a("el-form-item",{attrs:{label:"运费金额"}},[a("span",[e._v("￥"+e._s(e.detail.freightMoney))])]),e._v(" "),a("el-form-item",{attrs:{label:"卖家"}},[a("span",[e._v(e._s(e.detail.sellUserName))])]),e._v(" "),a("el-form-item",{attrs:{label:"买家"}},[a("span",[e._v(e._s(e.detail.buyUserName))])])],1),e._v(" "),a("h4",[e._v("收货人信息")]),e._v(" "),e.detail.userInfoVO?a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"收货人"}},[a("span",[e._v(e._s(e.detail.userInfoVO.username))])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号"}},[a("span",[e._v(e._s(e.detail.userInfoVO.mobile))])]),e._v(" "),a("el-form-item",{attrs:{label:"收货地址"}},[a("span",[e._v(e._s(e.detail.userInfoVO.shippingAddr))])])],1):e._e(),e._v(" "),a("h4",[e._v("商品信息")]),e._v(" "),a("el-table",{staticStyle:{width:"620px"},attrs:{data:e.detail.orderGoodVOList}},[a("el-table-column",{attrs:{width:"180px",align:"center",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("img",{staticStyle:{height:"100px"},attrs:{src:e._f("setImg")(l.skuMainPic)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"110px",align:"center",label:"商品名称"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("span",[e._v(e._s(l.skuName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"110px",align:"center",label:"商品ID"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("span",[e._v(e._s(l.skuId))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"110px",align:"center",label:"价格"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("span",[e._v(e._s(l.unitPrice))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"110px",align:"center",label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("span",[e._v(e._s(l.goodsNumber))])]}}])})],1),e._v(" "),a("h4",[e._v("支付信息")]),e._v(" "),a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"支付方式"}},[a("span",[e._v(e._s(e.payType[e.detail.payType]))])]),e._v(" "),a("el-form-item",{attrs:{label:"支付渠道"}},[a("span",[e._v(e._s(e.detail.shop))])]),e._v(" "),a("el-form-item",{attrs:{label:"支付时间"}},[a("span",[e._v(e._s(e.detail.payTime))])]),e._v(" "),a("el-form-item",{attrs:{label:"支付流水号"}},[a("span",[e._v(e._s(e.detail.shopId))])])],1),e._v(" "),a("h4",[e._v("物流信息")]),e._v(" "),a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"快递公司"}},[a("span",[e._v(e._s(e.detail.name))])]),e._v(" "),a("el-form-item",{attrs:{label:"快递单号"}},[a("span",[e._v(e._s(e.detail.shop))])]),e._v(" "),a("el-form-item",{attrs:{label:"发货时间"}},[a("span",[e._v(e._s(e.detail.shop))])])],1)],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(d,c,!1,function(e){a("oNkQ")},"data-v-79ba1d2e",null);t.default=m.exports},oNkQ:function(e,t,a){var l=a("U2J2");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("5e6a741a",l,!0)}});