webpackJsonp([6],{"+EQ+":function(t,e,n){"use strict";e.a=function(t){return Object(a.a)({url:"/admin/designmanu/banner/getHomeBannerIdList/"+t,method:"get"})},e.f=function(t,e){return Object(a.a)({url:"/admin/designmanu/banner/bannerSetting/"+t,method:"post",data:e})},e.e=function(t){return Object(a.a)({url:"/admin/designmanu/case/getHomeCaseIdList/"+t,method:"get"})},e.j=function(t,e){return Object(a.a)({url:"/admin/designmanu/case/excellectCaseSetting/"+e,method:"post",data:t})},e.c=function(){return Object(a.a)({url:"/admin/designmanu/designer/getHomeDesignerIdList",method:"get"})},e.h=function(t){return Object(a.a)({url:"/admin/designmanu/designer/excellectDesignerSetting",method:"post",data:t})},e.d=function(){return Object(a.a)({url:"/admin/designmanu/manu/getHomeManuIdList",method:"get"})},e.i=function(t){return Object(a.a)({url:"/admin/designmanu/manu/excellentManuSetting",method:"post",data:t})},e.b=function(){return Object(a.a)({url:"/admin/designmanu/craft/getHomeCraftIdList",method:"get"})},e.g=function(t){return Object(a.a)({url:"/admin/designmanu/craft/excellectCraftSetting/"+t,method:"post"})};var a=n("vLgD")},"5Pls":function(t,e,n){var a=n("llDM");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("25aee4b2",a,!0)},"7CBe":function(t,e,n){var a=n("S1fD");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("7ba4a08c",a,!0)},S1fD:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.block[data-v-2a3ed482] {\n  margin: 20px;\n  width: 959px;\n}\n",""])},gEMb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("xNX0"),i=n("m8hF"),r=n("+EQ+"),o={components:{ImageCropper:n("Oakg").a},data:function(){return{form:{data:[]},cropShow:!1,prefix:"thumbnail",width:325,height:225,currentIndex:1,loading:!1,listLoading:!1}},created:function(){var t=this;this.listLoading=!0,Object(r.c)().then(function(e){t.listLoading=!1,t.form.data=e.data}).catch(function(){t.listLoading=!1})},methods:{save:function(){var t=this,e=this.form.data.length,n=this.form.data.filter(function(t){return t.designerId&&t.thumbnail}).length;n&&e===n?(this.loading=!0,Object(r.h)(this.form.data).then(function(e){t.$notify({title:"成功",message:"操作成功",type:"success",duration:2e3}),t.loading=!1}).catch(function(){t.loading=!1})):this.$message({title:"警告",message:"请填写ID并上传缩略图",type:"error"})},uploadSuccess:function(t){var e=t.key,n=this.form.data[this.currentIndex];n.thumbnail=e,this.form.data.splice(this.currentIndex,1,n),this.cropShow=!1,this.$refs.cropper.setStep(1)}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block"},[n("h4",[t._v("精选设计师设置")]),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"0px"}},[n("el-form-item",[n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],staticStyle:{"margin-bottom":"10px"},attrs:{data:t.form.data,border:""}},[n("el-table-column",{attrs:{width:"180px",align:"center",label:"设计师ID"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-input",{attrs:{placeholder:"请输入设计师ID"},model:{value:a.designerId,callback:function(e){t.$set(a,"designerId",e)},expression:"row.designerId"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"250px",align:"center",label:"缩略图"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row,i=e.$index;return[a.thumbnail?n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("img",{staticClass:"image",attrs:{src:t._f("setImg")(a.thumbnail),width:"100%"}}),t._v(" "),n("div",{staticStyle:{padding:"14px"}},[n("div",{staticClass:"bottom clearfix"},[n("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(t){a.thumbnail=""}}},[t._v("删除")])],1)])]):n("el-button",{attrs:{plain:"",size:"small"},on:{click:function(e){t.cropShow=!0,t.currentIndex=i}}},[t._v("上传")])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"left",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){e.row;var a=e.$index;return[n("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(e){t.form.data.splice(a,1)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(e){t.form.data.push({designerId:"",thumbnail:""})}}},[t._v("添加")]),t._v(" "),n("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.save}},[t._v("保存")])],1)],1),t._v(" "),n("ImageCropper",{ref:"cropper",attrs:{noCircle:!0,noSquare:!0,withCredentials:!0,imgFormat:"jpg",width:t.width,height:t.height,prefix:t.prefix},on:{"crop-upload-success":t.uploadSuccess},model:{value:t.cropShow,callback:function(e){t.cropShow=e},expression:"cropShow"}})],1)},staticRenderFns:[]};var l=n("VU/8")(o,s,!1,function(t){n("7CBe")},"data-v-2a3ed482",null).exports,c={data:function(){return{flag:0}},components:{banner:a.a,work:i.a,designer:l}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("banner",{attrs:{flag:this.flag}}),this._v(" "),e("work",{attrs:{flag:this.flag}}),this._v(" "),e("br"),this._v(" "),e("designer")],1)},staticRenderFns:[]},u=n("VU/8")(c,d,!1,null,null,null);e.default=u.exports},llDM:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.block[data-v-31fb805a] {\n  margin: 20px;\n  width: 959px;\n}\n",""])},m8hF:function(t,e,n){"use strict";var a=n("+EQ+"),i={components:{ImageCropper:n("Oakg").a},props:{flag:[String,Number]},data:function(){return{form:{data:[]},cropShow:!1,prefix:"thumbnail",width:325,height:225,currentIndex:1,loading:!1,listLoading:!1}},created:function(){var t=this;this.listLoading=!0,Object(a.e)(this.flag).then(function(e){t.listLoading=!1,t.form.data=e.data}).catch(function(){t.listLoading=!1})},methods:{save:function(){var t=this,e=this.form.data.length,n=this.form.data.filter(function(t){return t.caseId&&t.thumbnail}).length;n&&e===n?(this.loading=!0,Object(a.j)(this.form.data,this.flag).then(function(e){t.$notify({title:"成功",message:"操作成功",type:"success",duration:2e3}),t.loading=!1}).catch(function(){t.loading=!1})):this.$message({title:"警告",message:"请填写ID并上传缩略图",type:"error"})},uploadSuccess:function(t){var e=t.key,n=this.form.data[this.currentIndex];n.thumbnail=e,this.form.data.splice(this.currentIndex,1,n),this.cropShow=!1,this.$refs.cropper.setStep(1)}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block"},[n("h4",[t._v("优秀商品设置")]),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"0px"}},[n("el-form-item",[n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],staticStyle:{"margin-bottom":"10px"},attrs:{data:t.form.data,border:""}},[n("el-table-column",{attrs:{width:"180px",align:"center",label:"商品ID"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-input",{attrs:{placeholder:"请输入商品ID"},model:{value:a.caseId,callback:function(e){t.$set(a,"caseId",e)},expression:"row.caseId"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"250px",align:"center",label:"缩略图"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row,i=e.$index;return[a.thumbnail?n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("img",{staticClass:"image",attrs:{src:t._f("setImg")(a.thumbnail),width:"100%"}}),t._v(" "),n("div",{staticStyle:{padding:"14px"}},[n("div",{staticClass:"bottom clearfix"},[n("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(t){a.thumbnail=""}}},[t._v("删除")])],1)])]):n("el-button",{attrs:{plain:"",size:"small"},on:{click:function(e){t.cropShow=!0,t.currentIndex=i}}},[t._v("上传")])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"left",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){e.row;var a=e.$index;return[n("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(e){t.form.data.splice(a,1)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(e){t.form.data.push({caseId:"",thumbnail:""})}}},[t._v("添加")]),t._v(" "),n("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.save}},[t._v("保存")])],1)],1),t._v(" "),n("ImageCropper",{ref:"cropper",attrs:{noCircle:!0,noSquare:!0,withCredentials:!0,imgFormat:"jpg",width:t.width,height:t.height,prefix:t.prefix},on:{"crop-upload-success":t.uploadSuccess},model:{value:t.cropShow,callback:function(e){t.cropShow=e},expression:"cropShow"}})],1)},staticRenderFns:[]};var o=n("VU/8")(i,r,!1,function(t){n("5Pls")},"data-v-31fb805a",null);e.a=o.exports},q43N:function(t,e,n){var a=n("qjKT");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("df3b6db4",a,!0)},qjKT:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.block[data-v-d840a9d4] {\n  margin: 20px;\n  width: 959px;\n  overflow: hidden;\n}\n.banner[data-v-d840a9d4] {\n  margin-bottom: 10px;\n  width: 100%;\n  background: #efefef;\n}\n.el-carousel__item[data-v-d840a9d4] {\n  height: 100%;\n}\n.el-carousel__item .inner[data-v-d840a9d4] {\n  position: relative;\n  height: 100%;\n}\n.el-carousel__item .inner img[data-v-d840a9d4] {\n  width: 100%;\n  height: 100%;\n}\n.el-carousel__item[data-v-d840a9d4]:nth-child(2n) {\n    background-color: #99a9bf;\n}\n.el-carousel__item[data-v-d840a9d4]:nth-child(2n+1) {\n    background-color: #d3dce6;\n}\n.actions[data-v-d840a9d4] {\n  position: absolute;\n  right: 20px;\n  bottom: 10px;\n}\n",""])},xNX0:function(t,e,n){"use strict";var a=n("mvHQ"),i=n.n(a),r={components:{ImageCropper:n("Oakg").a},props:{flag:[String,Number]},data:function(){return{hrefTypes:0==+this.flag?[{value:1,name:"外链"},{value:3,name:"设计室"},{value:4,name:"设计师"}]:[{value:1,name:"外链"},{value:2,name:"制造商"}],prefix:"banner",width:1918,height:480,cropShow:!1,loading:!1,dialogFormVisible:!1,form:{bannerUrl:void 0,pcUrl:void 0,type:void 0,flag:this.flag},rules:{bannerUrl:[{required:!0,message:"请输入链接地址/ID",trigger:"blur"}],pcUrl:[{required:!0,message:"请上传图片",trigger:"blur"}],type:[{required:!0,message:"请选择链接类型",trigger:"change"}]}}},methods:{resetForm:function(t,e){var n=this;this.$nextTick(function(){n.$refs[t].resetFields(),n.form.designerId=void 0,setTimeout(function(){e&&e()})})},cancel:function(){this.dialogFormVisible=!1,this.resetForm("form")},success:function(){this.loading=!1,this.$emit("success",JSON.parse(i()(this.form)))},update:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.dialogFormVisible=!1,e.success()})},uploadSuccess:function(t){var e=t.key;this.form.pcUrl=e,this.cropShow=!1,this.$refs.cropper.setStep(1)}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"添加/编辑图片",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"图片",prop:"pcUrl"}},[t.form.pcUrl?n("el-card",{staticStyle:{width:"250px"},attrs:{"body-style":{padding:"0px"}}},[n("img",{staticClass:"image",attrs:{src:t._f("setImg")(t.form.pcUrl),width:"100%"}}),t._v(" "),n("div",{staticStyle:{padding:"14px"}},[n("div",{staticClass:"bottom clearfix"},[n("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(e){t.form.pcUrl=""}}},[t._v("删除")])],1)])]):n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.cropShow=!0}}},[t._v("上传")]),t._v(" "),n("ImageCropper",{ref:"cropper",attrs:{noCircle:!0,noSquare:!0,withCredentials:!0,imgFormat:"jpg",width:t.width,height:t.height,prefix:t.prefix},on:{"crop-upload-success":t.uploadSuccess},model:{value:t.cropShow,callback:function(e){t.cropShow=e},expression:"cropShow"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"链接类型",prop:"type"}},[n("el-select",{attrs:{placeholder:"请选择链接类型"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.hrefTypes,function(t){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})}))],1),t._v(" "),n("el-form-item",{attrs:{label:"链接地址/ID",prop:"bannerUrl"}},[n("el-input",{model:{value:t.form.bannerUrl,callback:function(e){t.$set(t.form,"bannerUrl",e)},expression:"form.bannerUrl"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.cancel("form")}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.update("form")}}},[t._v("确 定")])],1)],1)},staticRenderFns:[]},s=n("VU/8")(r,o,!1,null,null,null).exports,l=n("+EQ+"),c={props:{flag:[String,Number]},components:{EditBannerDialog:s},data:function(){return{index:void 0,loading:!1,banners:[]}},created:function(){var t=this;Object(l.a)(this.flag).then(function(t){return t.data}).then(function(e){t.banners=e})},methods:{handleUpdate:function(t,e){var n=this.$refs.dialog;n.dialogStatus="update",n.dialogFormVisible=!0,n.resetForm("form",function(){n.form=JSON.parse(i()(t))}),this.index=e},handleAdd:function(t){var e=this.$refs.dialog;e.dialogStatus="create",e.dialogFormVisible=!0,e.resetForm("form"),this.index=this.banners.length},handleDelete:function(t){this.banners.splice(t,1)},handleSave:function(){var t=this;this.banners.length?(this.loading=!0,Object(l.f)(this.flag,this.banners).then(function(){t.$notify({title:"成功",message:"保存成功",type:"success",duration:2e3}),t.loading=!1}).catch(function(){t.loading=!1})):this.$notify({title:"警告",message:"请上传banner",type:"warning"})},success:function(t){this.banners.splice(this.index,1,t)}}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block"},[n("h4",[t._v("Banner 设置")]),t._v(" "),n("el-carousel",{staticClass:"banner",attrs:{autoplay:!1,height:"240px"}},t._l(t.banners,function(e,a){return n("el-carousel-item",{key:a},[n("div",{staticClass:"inner"},[n("img",{attrs:{src:t._f("setImg")(e.pcUrl)}}),t._v(" "),n("div",{staticClass:"actions"},[n("el-button",{attrs:{size:"small",type:"text"},on:{click:function(n){t.handleUpdate(e,a)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.handleDelete(a)}}},[t._v("删除")])],1)])])})),t._v(" "),n("div",{staticStyle:{float:"right"}},[n("el-button",{on:{click:t.handleAdd}},[t._v("添加")]),t._v("\n     \n    "),n("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handleSave}},[t._v("保存")])],1),t._v(" "),n("EditBannerDialog",{ref:"dialog",attrs:{flag:t.flag},on:{success:t.success}})],1)},staticRenderFns:[]};var u=n("VU/8")(c,d,!1,function(t){n("q43N")},"data-v-d840a9d4",null);e.a=u.exports}});